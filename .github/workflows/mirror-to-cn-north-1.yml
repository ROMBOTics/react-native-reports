# DO NOT EDIT THIS FILE
# It is managed by terraform-projects

name: Mirror to cn-north-1

on: workflow_dispatch

# Ref: http://blog.plataformatec.com.br/2013/05/how-to-properly-mirror-a-git-repository/
jobs:
  mirror:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - run: git fetch --prune
    - run: git push --force-with-lease --prune "https://${{ secrets.CN_NORTH_1_CODECOMMIT_USER }}:${{ secrets.CN_NORTH_1_CODECOMMIT_PASSWORD }}@git-codecommit.cn-north-1.amazonaws.com.cn/v1/repos/react-native-reports.git/" +refs/remotes/origin/*:refs/heads/* +refs/tags/*:refs/tags/*
